function d(s){try{let i=document.createElement("link");i.rel="stylesheet",i.href=CSS_PUBLIC_PATH,s.appendChild(i)}catch{}}var c={};async function a(s,i,r,o){let n="";if(c[o]||(document.customElements[o]?n=document.customElements[o]:c[o]=fetch(i).then(t=>t.text()).then(t=>(n=t.trim(),document.customElements[o]=n,delete c[o],n)).catch(t=>{throw delete c[o],t})),n=await c[o]||document.customElements[o],!n)throw new Error(`Failed to load template: ${o}`);let e=new DOMParser().parseFromString(n,"text/html");if(n.startsWith("<template"))e=e.head.firstChild;else if(n.startsWith("<script")){let t=document.createElement("script");if(t.textContent=e.head.firstChild.textContent,r.appendChild(t),e.head.children[1]!==void 0)if(e.head.children[1].nodeName==="STYLE"){let m=document.createElement("style");m.textContent=e.head.children[1].textContent,r.appendChild(m),e=e.body.firstChild}else e=e.head.children[1];else e=e.body.firstChild}else e=e.body.firstChild;let l=Array.from(e.querySelectorAll("a-component")).map(t=>({element:t,parent:t.parentNode,nextSibling:t.nextSibling}));l.forEach(({element:t})=>t.remove()),r.appendChild(e),s.initTree(r),l.forEach(({element:t,parent:m,nextSibling:u})=>{m.insertBefore(t,u)})}function h(s){class i extends HTMLElement{connectedCallback(){if(this._hasInit)return;let n=this.attachShadow({mode:"open"});s.initTree(this);let{template:e={value:""}}=this.attributes,l=`/components/${e.value}.html`;a(s,l,n,e.value),d(n),this._hasInit=!0}}let{name:r}=window?.aComponent||{name:"a-component"};window.customElements.get(r)||(document.customElements=document.customElements||{},customElements.define(r,i),new i)}var y=h;export{y as default};
