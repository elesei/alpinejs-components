function a(l){try{let o=document.createElement("link");o.rel="stylesheet",o.href=CSS_PUBLIC_PATH,l.appendChild(o)}catch{}}function d(l,o){try{o=o.split(","),o.length>0&&o.forEach(r=>{let n=document.createElement("link");n.rel="stylesheet",n.href=r.trim(),l.appendChild(n)})}catch{}}var s={};async function h(l,o,r,n){let i="";if(s[n]||(document.customElements[n]?i=document.customElements[n]:s[n]=fetch(o).then(t=>t.text()).then(t=>(i=t.trim(),document.customElements[n]=i,delete s[n],i)).catch(t=>{throw delete s[n],t})),i=await s[n]||document.customElements[n],!i)throw new Error(`Failed to load template: ${n}`);let e=new DOMParser().parseFromString(i,"text/html");if(i.startsWith("<template"))e=e.head.firstChild;else if(i.startsWith("<script")){let t=document.createElement("script");if(t.textContent=e.head.firstChild.textContent,r.appendChild(t),e.head.children[1]!==void 0)if(e.head.children[1].nodeName==="STYLE"){let m=document.createElement("style");m.textContent=e.head.children[1].textContent,r.appendChild(m),e=e.body.firstChild}else e=e.head.children[1];else e=e.body.firstChild}else e=e.body.firstChild;let c=Array.from(e.querySelectorAll("a-component")).map(t=>({element:t,parent:t.parentNode,nextSibling:t.nextSibling}));c.forEach(({element:t})=>t.remove()),r.appendChild(e),l.initTree(r),c.forEach(({element:t,parent:m,nextSibling:f})=>{m.insertBefore(t,f)})}function u(l){class o extends HTMLElement{connectedCallback(){if(this._hasInit)return;let i=this.attachShadow({mode:"open"});l.initTree(this);let{template:e={value:""},styles:c={value:""}}=this.attributes,t=`/components/${e.value}.html`;h(l,t,i,e.value),a(i),d(i,c.value),this._hasInit=!0}}let{name:r}=window?.aComponent||{name:"a-component"};window.customElements.get(r)||(document.customElements=document.customElements||{},customElements.define(r,o),new o)}var T=u;export{T as default};
